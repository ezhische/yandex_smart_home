# Выбор типа подключения
!!! danger "**Не удаляйте интеграцию** с облачным подключением без надобности. При удалении происходит отвязка от УДЯ с удалением связки ID/Пароль. При повторной настройке интеграции потребуется снова выполнять связку аккаунтов в УДЯ (уже с новыми реквизитами)."

!!! hint "При изменении типа подключения YAML конфигурацию менять или удалять не требуется"

Для перехода с прямого подключения на облачное или наоборот:

* [Отвяжите навык/производителя](../quasar.md#unlink) с полным удалением всех устройств. Устройства привязываются к навыку, и если этого не сделать - в УДЯ будет два набора устройств.
* Измените тип подключения в [настройках интеграции](./getting-started.md#gui)
* После перехода:
    * Прямое --> Облачное: ID/Пароль - в настройках интеграции, раздел `notifier` в YAML конфигурации не используется (можно удалить или оставить, не имеет значения)
    * Облачное --> Прямое: следуйте [инструкции](../advanced/direct-connection.md) по настройке прямого подключения 

## Какой тип подключения лучше? { id=compare }

|          | Плюсы                                                                                                                                                                                     | Минусы                                                                                                                                                                                                                                                         |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Облачное | <ul><li>Просто работает</li><li>Меньшее время отклика чем у прямого на значительном удалении от Москвы[^1]</li></ul>                                                                      | <ul><li>Зависит от доступности[^2] дополнительного "облачного" сервера между Home Assistant и УДЯ</li><li>Для параноиков: устройства видны не только Яндексу, но и владельцу "облачного" сервера[^3]</li></ul>                                                 |
| Прямое   | <ul><li>Нет зависимости от дополнительного "облачного" сервера между Home Assistant и УДЯ</li><li>Для параноиков: никто, кроме Яндекса не сможет контролировать ваши устройства</li></ul> | <ul><li>Необходимо постоянно поддерживать доступ к Home Assistant из интернета (перевыпуск сертификатов, настройка динамического DNS и т.п.)</li><li>Сложность настройки</li><li>Чем вы дальше от Москвы - тем больше будет время отклика на команды</li></ul> | 

!!! warning "Помните, что пользуяюсь любым облачным сервисом, будь то "Умный дом Яндекса" или навык "Yaha Cloud", вы даёте этому сервису права на контроль всех поддерживаемых устройств в Home Assistant."

[^1]: Облачное подключение держит соединение постоянно открытым. Прямое - на каждый запрос устанавливает отдельное соединение с TLS-хедшейком, время которого значительно растёт с увеличением пинга.
[^2]: С ноября 2021 по июль 2022 [доступно на 100%](https://stats.uptimerobot.com/QX83nsXBWW)
[^3]: Но управлять он ими не будет, ему это просто не нужно :) Все данные на "облачном" обезличены, а проходящий трафик зашифрован.
